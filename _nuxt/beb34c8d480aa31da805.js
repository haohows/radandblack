(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{739:function(t,r,o){var content=o(750);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(86).default)("03eaecd9",content,!0,{sourceMap:!1})},749:function(t,r,o){"use strict";var e=o(739);o.n(e).a},750:function(t,r,o){(r=o(85)(!1)).push([t.i,'.admin-wrap[data-v-5d249036]{min-height:100vh;display:flex;justify-content:center;align-items:center;text-align:center;transition:opacity .5s}.admin-wrap.hide[data-v-5d249036]{opacity:0}.admin-control[data-v-5d249036]{border-radius:1rem;width:230px;height:188px;overflow:hidden;margin:10px}.card-header[data-v-5d249036]{font-size:25px}.roster[data-v-5d249036]{font-size:80px;padding:20px 0}.tableArea[data-v-5d249036]{border-radius:1rem;width:570px;margin:10px;overflow:hidden}.tableR[data-v-5d249036]{background:#ff007b}.tableTitle[data-v-5d249036]{text-align:center;line-height:85px;font-size:35px;font-weight:700}.group-cards[data-v-5d249036]{display:flex;width:840px;padding:15px 10px;align-items:center;justify-content:space-between}.card-wrapper[data-v-5d249036]{border:1px solid #ccc;width:190px;height:245px;perspective:600px;border-radius:10px}.card[data-v-5d249036]{position:relative;width:100%;height:100%;transition:transform 1s;transform-style:preserve-3d;border-radius:10px}.card.active[data-v-5d249036]{transform:rotateY(180deg)}.card-face[data-v-5d249036]{position:absolute;width:100%;height:100%;color:#fff;font-weight:700;font-size:30px;display:flex;justify-content:center;align-items:center;-webkit-backface-visibility:hidden;backface-visibility:hidden;border-radius:7px}.card-face.card-front[data-v-5d249036]{background:#fff;background-image:linear-gradient(#68c6fc,#025db3);transform:rotateY(180deg)}.card-face.card-front.card-front-black[data-v-5d249036]{background:#000;background-image:linear-gradient(#5d5353,#0c0b0b);transform:rotateY(180deg)}.card-face.card-front.card-front-red[data-v-5d249036]{background:#e62984;background-image:linear-gradient(#ff007b,#8f0849);transform:rotateY(180deg)}.card-face.card-front .card-front-text[data-v-5d249036]{position:relative;width:100%;height:100%;z-index:10;font-size:65px;border-radius:7px;overflow:hidden}.card-face.card-front .card-front-text[data-v-5d249036]:before{position:absolute;content:"";top:0;left:0;border-color:#faeb98 transparent transparent;border-style:solid;border-width:70px 65px 0 0;z-index:2}.card-face.card-front .card-front-text[data-v-5d249036]:after{position:absolute;content:"";top:0;left:0;border-color:hsla(0,0%,75.3%,.507) transparent transparent;border-style:solid;border-width:80px 110px 0 0}.card-face.card-front .card-front-text .card-front-text-group[data-v-5d249036]{font-size:26px;top:0;left:12px;z-index:6;font-weight:700}.card-face.card-front .card-front-text .card-front-text-group[data-v-5d249036],.card-face.card-front .card-front-text .card-front-text-score[data-v-5d249036]{position:absolute;text-shadow:0 0 2px #414141,0 0 2px #414141,0 0 2px #414141,0 0 2px #414141,0 0 2px #414141,0 0 2px #414141}.card-face.card-front .card-front-text .card-front-text-score[data-v-5d249036]{top:65px;left:49px;font-size:65px}.card-face.card-front .card-front-text .card-front-text-groupScore[data-v-5d249036]{position:absolute;width:50px;height:40px;line-height:40px;font-size:20px;bottom:0;right:0;text-shadow:0 0 2px #414141,0 0 2px #414141,0 0 2px #414141,0 0 2px #414141,0 0 2px #414141,0 0 2px #414141}.card-face.card-back[data-v-5d249036]{position:relative;background-image:linear-gradient(#5d5353,#0c0b0b);overflow:hidden}.card-face.card-back[data-v-5d249036]:before{border-color:#ff007b transparent transparent;border-width:160px 270px 0 0;z-index:2}.card-face.card-back[data-v-5d249036]:after,.card-face.card-back[data-v-5d249036]:before{position:absolute;content:"";top:0;left:0;border-style:solid}.card-face.card-back[data-v-5d249036]:after{border-color:#ddd transparent transparent;border-width:200px 260px 0 0}.card-face.card-back .card-back-text[data-v-5d249036]{z-index:10;font-size:65px;margin-bottom:10px;text-shadow:0 0 3px #414141,0 0 3px #414141,0 0 3px #414141,0 0 3px #414141,0 0 3px #414141,0 0 3px #414141}.delayTurnCard2[data-v-5d249036]{transition-delay:.2s}.delayTurnCard3[data-v-5d249036]{transition-delay:.4s}.delayTurnCard4[data-v-5d249036]{transition-delay:.6s}.btn-style-stop[data-v-5d249036]{background:#ff007b;color:#fff;font-size:25px;font-weight:700;border-radius:10px;margin:14px 0;border:1px solid transparent;box-shadow:0 6px 0 #cacaca;transition:all .2s}.btn-style-stop.showTheBtn[data-v-5d249036]{color:#d40067;border-radius:0 10px 10px 0}.btn-style-stop.showTheBtn[data-v-5d249036],.btn-style-stop.stopBtnInit[data-v-5d249036]{background:#d40067;box-shadow:0 0 0 #cacaca;transform:translateY(6px)}.btn-style-stop[data-v-5d249036]:hover{background:#d40067}.btn-style-stop.active[data-v-5d249036]{background:#d40067;box-shadow:0 0 0 #cacaca;transform:translateY(6px)}.btn-style-stop[data-v-5d249036]:focus{outline:none}.btn-style-start[data-v-5d249036]{background:#ff007b;color:#fff;font-size:25px;font-weight:700;border-radius:10px;margin:14px 0;border:1px solid transparent;box-shadow:0 6px 0 #cacaca;transition:all .2s}.btn-style-start.showTheBtn[data-v-5d249036]{color:#d40067;margin:14px 0!important;border-radius:10px 0 0 10px}.btn-style-start[data-v-5d249036]:hover{background:#d40067}.btn-style-start.active[data-v-5d249036]{background:#d40067;box-shadow:0 0 0 #cacaca;transform:translateY(6px)}.btn-style-start[data-v-5d249036]:focus{outline:none}.btn-style-trigger[data-v-5d249036]{background:#ff007b;color:#fff;font-size:25px;font-weight:700;border-radius:10px;margin:14px 0;border:1px solid transparent;box-shadow:0 6px 0 #cacaca;transition:all .2s}.btn-style-trigger[data-v-5d249036]:hover{background:#d40067}.btn-style-trigger.active[data-v-5d249036]{background:#d40067;box-shadow:0 0 0 #cacaca;transform:translateY(6px)}.btn-style-trigger.active .btn-action-txet[data-v-5d249036]{transition:color .2s;transition-delay:.3s;color:#d40067}.btn-style-trigger[data-v-5d249036]:focus{outline:none}',""]),t.exports=r},771:function(t,r,o){"use strict";o.r(r);o(15),o(4),o(3),o(6),o(21);var e=o(172),c={layout:"adminArea",data:function(){return{pagesHide:!0,round:0,preStartActive:!1,changeCardSwitch:!1,cardsFront:!1,action:!1,initCard:!0,showControlBtn:!1,splitControlBtn:!1,hideStopBtnInit:!1,stopSwitchNum:0,temporaryStorage:{red:0,black:0},roundCardColor:{group1:"black",group2:"black",group3:"black",group4:"black"},roundGroupScore:{group1:0,group2:0,group3:0,group4:0},groupScore:{group1:0,group2:0,group3:0,group4:0}}},watch:{stopSwitchNum:function(t){var r=this;t>=4&&(this.round>=6&&(this.preStartActive=!0,this.action=!1,this.stopSwitchNum=0,setTimeout((function(){r.splitControlBtn=!1}),500),setTimeout((function(){r.showControlBtn=!1}),700)),this.roundGroupScore.group1=this.getPlayerGroupScore(1),this.roundGroupScore.group2=this.getPlayerGroupScore(2),this.roundGroupScore.group3=this.getPlayerGroupScore(3),this.roundGroupScore.group4=this.getPlayerGroupScore(4),this.setAnalysisData(),this.cardsFront=!0,this.stopSwitchNum=0,setTimeout((function(){r.changeCardSwitch=!0}),1600))}},computed:{actionText:function(){return this.round<6?"Action":"Analysis"},getPlayRoomID:function(){return sessionStorage.getItem("RoomID")}},methods:{triggerActive:function(){var t=this;this.round<6?(this.round++,this.updateGameRound(this.round),this.action=!0,this.playerChooseCardStart(),this.changeCardSwitch=!0,setTimeout((function(){t.showControlBtn=!0}),500),setTimeout((function(){t.splitControlBtn=!0}),700),setTimeout((function(){t.hideStopBtnInit=!0}),900)):(this.action=!0,setTimeout((function(){t.pagesHide=!0}),500),setTimeout((function(){t.$router.replace({name:"admin-analysis-effect"})}),1200))},startActive:function(){var t=this;!this.changeCardSwitch||this.round>=6||!this.cardsFront||(this.changeCardSwitch=!1,this.cardsFront&&(this.round++,this.updateGameRound(this.round)),this.playerChooseCardStart(),this.cardsFront=!1,setTimeout((function(){t.changeCardSwitch=!0}),1600))},stopActive:function(){this.changeCardSwitch&&!this.cardsFront&&(this.changeCardSwitch=!1,this.playerChooseCardStop(),this.countRedOrBlackInGroup(1),this.countRedOrBlackInGroup(2),this.countRedOrBlackInGroup(3),this.countRedOrBlackInGroup(4))},updateGameRound:function(t){e.a.db.ref("/gameRoom/".concat(this.getPlayRoomID,"/gameRound")).set(t)},playerChooseCardStart:function(){e.a.db.ref("/gameRoom/".concat(this.getPlayRoomID,"/changeCardSwitch")).set(!0)},playerChooseCardStop:function(){e.a.db.ref("/gameRoom/".concat(this.getPlayRoomID,"/changeCardSwitch")).set(!1)},countRedOrBlackInGroup:function(t){var r=this,o="",c="",d="";e.a.db.ref("/gameRoom/".concat(this.getPlayRoomID,"/group").concat(t,"/round").concat(this.round)).once("value",(function(e){c=r.countNum(e.val().red),d=r.countNum(e.val().black),r.temporaryStorage.red+=c,r.temporaryStorage.black+=d,o=c>d?"red":"black",r.roundCardColor["group".concat(t)]=o})).then((function(){e.a.db.ref("/gameRoom/".concat(r.getPlayRoomID,"/group").concat(t,"/round").concat(r.round,"/cardColor")).set(o)})).then((function(){r.stopSwitchNum++}))},countNum:function(t){return null==t?0:Object.keys(t).length},getPlayerGroupScore:function(t){for(var r=this,o=this.roundCardColor["group".concat(t)],c=0,d=0,i=0;i<5;i++)"black"==this.roundCardColor["group".concat(i)]&&i!==t&&d++;if("red"==o)switch(d){case 0:c="+2";break;case 1:c="-1";break;case 2:c="-2";break;case 3:c="-3"}else if("black"==o)switch(d){case 0:c="+3";break;case 1:c="+2";break;case 2:c="+1";break;case 3:c="-4"}return e.a.db.ref("/gameRoom/".concat(this.getPlayRoomID,"/group").concat(t,"/round").concat(this.round,"/roundScoue")).set(c).then((function(){var o=Number(r.groupScore["group".concat(t)])+Number(c);e.a.db.ref("/gameRoom/".concat(r.getPlayRoomID,"/group").concat(t,"/groupScore")).set(o)})),c},setAnalysisData:function(){for(var t=this,r=0,i=0;i<5;i++)"black"==this.roundCardColor["group".concat(i)]&&r++;var o=4-r;e.a.db.ref("/gameRoom/".concat(this.getPlayRoomID,"/analysis/round").concat(this.round)).set({gr:o,gb:r,ir:this.temporaryStorage.red,ib:this.temporaryStorage.black}).then((function(){t.temporaryStorage.red=0,t.temporaryStorage.black=0}))}},mounted:function(){var t=this;e.a.db.ref("/gameRoom/".concat(this.getPlayRoomID)).on("value",(function(r){t.groupScore.group1=r.val().group1.groupScore,t.groupScore.group2=r.val().group2.groupScore,t.groupScore.group3=r.val().group3.groupScore,t.groupScore.group4=r.val().group4.groupScore})),setTimeout((function(){t.pagesHide=!1}),500)}},d=(o(749),o(60)),component=Object(d.a)(c,(function(){var t=this,r=t.$createElement,o=t._self._c||r;return o("div",{staticClass:"admin-wrap",class:{hide:t.pagesHide}},[o("div",{staticClass:"admin-mine"},[o("div",{staticClass:"d-flex"},[t._m(0),t._v(" "),o("div",{staticClass:"admin-control shadow"},[o("div",{staticClass:"card text-white bg-dark"},[o("h5",{staticClass:"card-header"},[o("span",{staticClass:"mr-2"},[t._v("Round")]),t._v(" "),o("span",[t._v(t._s(t.round))])]),t._v(" "),o("div",{staticClass:"card-body d-flex"},[t.showControlBtn?t._e():o("button",{staticClass:"btn-block btn-style-trigger",class:{active:t.action},on:{click:t.triggerActive}},[o("span",{staticClass:"btn-action-txet"},[t._v(t._s(t.actionText))])]),t._v(" "),t.showControlBtn?o("button",{staticClass:"btn-block btn-style-start mr-3",class:{active:!t.cardsFront||t.preStartActive,showTheBtn:!t.splitControlBtn},on:{click:t.startActive}},[t._v("Start")]):t._e(),t._v(" "),t.showControlBtn?o("button",{staticClass:"btn-block btn-style-stop",class:{active:t.cardsFront,showTheBtn:!t.splitControlBtn,stopBtnInit:!t.hideStopBtnInit},on:{click:t.stopActive}},[t._v("Stop")]):t._e()])])])]),t._v(" "),o("div",{staticClass:"group-cards"},[o("div",{staticClass:"card-wrapper"},[o("div",{staticClass:"card delayTurnCard1",class:{active:t.cardsFront}},[o("div",{staticClass:"card-face card-front",class:{"card-front-black":"black"==t.roundCardColor.group1,"card-front-red":"red"==t.roundCardColor.group1}},[o("div",{staticClass:"card-front-text"},[o("div",{staticClass:"card-front-text-group"},[t._v("1")]),t._v(" "),o("div",{staticClass:"card-front-text-score"},[t._v(t._s(t.roundGroupScore.group1))]),t._v(" "),o("div",{staticClass:"card-front-text-groupScore"},[t._v(t._s(t.groupScore.group1))])])]),t._v(" "),t._m(1)])]),t._v(" "),o("div",{staticClass:"card-wrapper"},[o("div",{staticClass:"card delayTurnCard2",class:{active:t.cardsFront}},[o("div",{staticClass:"card-face card-front",class:{"card-front-black":"black"==t.roundCardColor.group2,"card-front-red":"red"==t.roundCardColor.group2}},[o("div",{staticClass:"card-front-text"},[o("div",{staticClass:"card-front-text"},[o("div",{staticClass:"card-front-text-group"},[t._v("2")]),t._v(" "),o("div",{staticClass:"card-front-text-score"},[t._v(t._s(t.roundGroupScore.group2))]),t._v(" "),o("div",{staticClass:"card-front-text-groupScore"},[t._v(t._s(t.groupScore.group2))])])])]),t._v(" "),t._m(2)])]),t._v(" "),o("div",{staticClass:"card-wrapper"},[o("div",{staticClass:"card delayTurnCard3",class:{active:t.cardsFront}},[o("div",{staticClass:"card-face card-front",class:{"card-front-black":"black"==t.roundCardColor.group3,"card-front-red":"red"==t.roundCardColor.group3}},[o("div",{staticClass:"card-front-text"},[o("div",{staticClass:"card-front-text"},[o("div",{staticClass:"card-front-text-group"},[t._v("3")]),t._v(" "),o("div",{staticClass:"card-front-text-score"},[t._v(t._s(t.roundGroupScore.group3))]),t._v(" "),o("div",{staticClass:"card-front-text-groupScore"},[t._v(t._s(t.groupScore.group3))])])])]),t._v(" "),t._m(3)])]),t._v(" "),o("div",{staticClass:"card-wrapper"},[o("div",{staticClass:"card delayTurnCard4",class:{active:t.cardsFront}},[o("div",{staticClass:"card-face card-front",class:{"card-front-black":"black"==t.roundCardColor.group4,"card-front-red":"red"==t.roundCardColor.group4}},[o("div",{staticClass:"card-front-text"},[o("div",{staticClass:"card-front-text"},[o("div",{staticClass:"card-front-text-group"},[t._v("4")]),t._v(" "),o("div",{staticClass:"card-front-text-score"},[t._v(t._s(t.roundGroupScore.group4))]),t._v(" "),o("div",{staticClass:"card-front-text-groupScore"},[t._v(t._s(t.groupScore.group4))])])])]),t._v(" "),t._m(4)])])])])])}),[function(){var t=this,r=t.$createElement,o=t._self._c||r;return o("table",{staticClass:"table table-sm bg-light shadow tableArea"},[o("tbody",[o("tr",{staticClass:"tableR text-white h2"},[o("td",{staticStyle:{width:"100px"},attrs:{scope:"col",rowspan:"2"}},[o("div",{staticClass:"tableTitle"},[t._v("紅")])]),t._v(" "),o("td",{attrs:{scope:"col"}}),t._v(" "),o("td",{attrs:{scope:"col"}},[t._v("-3")]),t._v(" "),o("td",{attrs:{scope:"col"}},[t._v("-2")]),t._v(" "),o("td",{attrs:{scope:"col"}},[t._v("-1")]),t._v(" "),o("td",{attrs:{scope:"col"}},[t._v("+2")])]),t._v(" "),o("tr",{staticClass:"h2"},[o("td",[t._v("0")]),t._v(" "),o("td",[t._v("1")]),t._v(" "),o("td",[t._v("2")]),t._v(" "),o("td",[t._v("3")]),t._v(" "),o("td",[t._v("4")])]),t._v(" "),o("tr",{staticClass:"h2"},[o("td",{staticClass:"bg-dark text-white",attrs:{scope:"row",rowspan:"2"}},[o("div",{staticClass:"tableTitle"},[t._v("黑")])]),t._v(" "),o("td",[t._v("4")]),t._v(" "),o("td",[t._v("3")]),t._v(" "),o("td",[t._v("2")]),t._v(" "),o("td",[t._v("1")]),t._v(" "),o("td",[t._v("0")])]),t._v(" "),o("tr",{staticClass:"bg-dark text-white h2"},[o("td",[t._v("-4")]),t._v(" "),o("td",[t._v("+1")]),t._v(" "),o("td",[t._v("+2")]),t._v(" "),o("td",[t._v("+3")]),t._v(" "),o("td")])])])},function(){var t=this.$createElement,r=this._self._c||t;return r("div",{staticClass:"card-face card-back"},[r("div",{staticClass:"card-back-text"},[this._v("1")])])},function(){var t=this.$createElement,r=this._self._c||t;return r("div",{staticClass:"card-face card-back"},[r("div",{staticClass:"card-back-text"},[this._v("2")])])},function(){var t=this.$createElement,r=this._self._c||t;return r("div",{staticClass:"card-face card-back"},[r("div",{staticClass:"card-back-text"},[this._v("3")])])},function(){var t=this.$createElement,r=this._self._c||t;return r("div",{staticClass:"card-face card-back"},[r("div",{staticClass:"card-back-text"},[this._v("4")])])}],!1,null,"5d249036",null);r.default=component.exports}}]);