(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{747:function(e,o,t){var content=t(766);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,t(86).default)("2703bad4",content,!0,{sourceMap:!1})},765:function(e,o,t){"use strict";var n=t(747);t.n(n).a},766:function(e,o,t){(o=t(85)(!1)).push([e.i,'.userLogin-wrap[data-v-6e3dec2f]{min-height:100vh;display:flex;justify-content:center;align-items:center;text-align:center;transition:opacity .5s}.userLogin-wrap.hide[data-v-6e3dec2f]{opacity:0}.loginBtnB[data-v-6e3dec2f]{position:relative;width:100%;padding:6px 0;margin-top:10px;font-size:16px;color:currentColor;background:transparent;border:2px solid #3398db;outline:none;cursor:pointer;overflow:hidden;transition:.6s}.loginBtnB[data-v-6e3dec2f]:before{position:absolute;content:"";top:0;left:0;width:100%;height:100%;background:linear-gradient(120deg,transparent,rgba(51,152,219,.5),transparent);transform:translateX(-100%);transition:.6s}.loginBtnB[data-v-6e3dec2f]:hover{box-shadow:0 0 20px 10px rgba(51,152,219,.5)}.loginBtnB[data-v-6e3dec2f]:hover:before{transform:translateX(100%)}.login-form[data-v-6e3dec2f]{display:flex;flex-direction:column;align-items:center;padding:25px 40px 15px;color:#fff}.login-form h1[data-v-6e3dec2f]{margin:0 0 24px;font-size:36px}.login-form .form-control[data-v-6e3dec2f]{margin:0 0 18px}.login-form .form-control input[data-v-6e3dec2f],.login-form .form-control select[data-v-6e3dec2f]{font-size:inherit;font-weight:inherit;color:currentColor;background:transparent;border:none;outline:none;width:100%}.login-form .loginBtn[data-v-6e3dec2f]{width:100%;margin:18px 0 9px}.login-form.bgB[data-v-6e3dec2f]{background:rgba(0,0,0,.8);border-radius:10px;box-shadow:0 .4px .4px hsla(0,0%,50.2%,.109),0 1px 1px hsla(0,0%,50.2%,.155),0 2.1px 2.1px hsla(0,0%,50.2%,.195),0 4.4px 4.4px hsla(0,0%,50.2%,.241),0 12px 12px hsla(0,0%,50.2%,.35)}.resText[data-v-6e3dec2f]{height:20px;width:100%;line-height:20px;font-size:14px;margin-top:15px}',""]),e.exports=o},777:function(e,o,t){"use strict";t.r(o);t(21),t(4),t(3),t(6),t(25);var n=t(172),r={layout:"default",data:function(){return{pagesHide:!0,roomID:"",name:"",group:0,resText:"",loginloading:!1,joinGameRoom:!1}},methods:{goPlayer:function(){var e=this;if(""!=this.roomID)if(""!=this.name){this.loginloading=!0;var o="";n.a.db.ref("/gameRoom").once("value",(function(t){if(null==t.val())o=null;else{var n=Object.keys(t.val());o=n.indexOf(e.roomID)}})).then((function(){if(-1==o||null==o)return e.resText="該 Room ID 不存在！",void(e.loginloading=!1);n.a.db.ref("/gameRoom/".concat(e.roomID,"/joinGameRoom")).once("value",(function(o){e.joinGameRoom=o.val()})).then((function(){if(!e.joinGameRoom)return e.resText="無法加入進行中的活動",void(e.loginloading=!1);if(0===e.group)return e.resText="組別未選擇！",void(e.loginloading=!1);var o=n.a.db.ref().push().key;sessionStorage.setItem("PlayerUid",o),sessionStorage.setItem("Group",e.group),n.a.db.ref("/gameRoom/".concat(e.roomID,"/").concat(e.group,"/roster/").concat(o)).set(e.name).then((function(){sessionStorage.setItem("PlayRoomID",e.roomID),sessionStorage.setItem("PlayerName",e.name),setTimeout((function(){e.pagesHide=!0}),500),setTimeout((function(){e.$router.replace({name:"player"})}),1200)})).catch((function(){e.resText="出現錯誤，請稍後再試"}))}))}))}else this.resText="您尚未輸入暱稱";else this.resText="您尚未輸入Room ID"},removeResText:function(){this.resText=""},removeSession:function(){sessionStorage.removeItem("Group"),sessionStorage.removeItem("PlayRoomID"),sessionStorage.removeItem("PlayerUid"),sessionStorage.removeItem("PlayerName")}},mounted:function(){var e=this;this.removeSession(),setTimeout((function(){e.pagesHide=!1}),500)}},l=(t(765),t(60)),component=Object(l.a)(r,(function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"userLogin-wrap",class:{hide:e.pagesHide}},[t("div",{staticClass:"login-form bgB"},[t("h1",[e._v("Login")]),e._v(" "),t("div",{staticClass:"form-control",on:{click:e.removeResText}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.roomID,expression:"roomID"}],attrs:{type:"text",placeholder:"Room ID"},domProps:{value:e.roomID},on:{input:function(o){o.target.composing||(e.roomID=o.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-control",on:{click:e.removeResText}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",placeholder:"暱稱"},domProps:{value:e.name},on:{input:function(o){o.target.composing||(e.name=o.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-control",on:{click:e.removeResText}},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.group,expression:"group"}],on:{change:function(o){var t=Array.prototype.filter.call(o.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.group=o.target.multiple?t:t[0]}}},[t("option",{attrs:{value:"0",disabled:"",selected:"",hidden:""}},[e._v("選擇組別")]),e._v(" "),t("option",{attrs:{value:"group1"}},[e._v("第1組")]),e._v(" "),t("option",{attrs:{value:"group2"}},[e._v("第2組")]),e._v(" "),t("option",{attrs:{value:"group3"}},[e._v("第3組")]),e._v(" "),t("option",{attrs:{value:"group4"}},[e._v("第4組")])])]),e._v(" "),t("button",{staticClass:"loginBtnB",attrs:{type:"submit"},on:{click:e.goPlayer}},[e.loginloading?t("div",{staticClass:"spinner-border text-light spinner-border-sm",attrs:{role:"status"}}):t("div",[e._v("Login")])]),e._v(" "),t("div",{staticClass:"resText"},[e._v(e._s(e.resText))])])])}),[],!1,null,"6e3dec2f",null);o.default=component.exports}}]);